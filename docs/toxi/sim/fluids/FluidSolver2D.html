<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112) on Fri Feb 10 00:23:12 CET 2017 -->
<title>FluidSolver2D</title>
<meta name="date" content="2017-02-10">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FluidSolver2D";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../toxi/sim/fluids/FluidSolver3D.html" title="class in toxi.sim.fluids"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?toxi/sim/fluids/FluidSolver2D.html" target="_top">Frames</a></li>
<li><a href="FluidSolver2D.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">toxi.sim.fluids</div>
<h2 title="Class FluidSolver2D" class="title">Class FluidSolver2D</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>toxi.sim.fluids.FluidSolver2D</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">FluidSolver2D</span>
extends java.lang.Object</pre>
<div class="block">Optimized Jos Stam style fluid solver with vorticity confinement and buoyancy
 force.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#buoyancyA">buoyancyA</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#buoyancyB">buoyancyB</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#curl">curl</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#d">d</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#diffusion">diffusion</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#dOld">dOld</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#height">height</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#numIterations">numIterations</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#size">size</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#timeStep">timeStep</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#tmp">tmp</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#totalHeight">totalHeight</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#totalWidth">totalWidth</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#u">u</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#uOld">uOld</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#v">v</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#viscosity">viscosity</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#vOld">vOld</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#width">width</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#FluidSolver2D-int-int-float-">FluidSolver2D</a></span>(int&nbsp;w,
             int&nbsp;h,
             float&nbsp;timeStep)</code>
<div class="block">Creates a new instance of the given dimension uses the specified time
 step.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#addSource-float:A-float:A-">addSource</a></span>(float[]&nbsp;buffer,
         float[]&nbsp;prev)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#advect-int-float:A-float:A-float:A-float:A-">advect</a></span>(int&nbsp;b,
      float[]&nbsp;d,
      float[]&nbsp;d0,
      float[]&nbsp;du,
      float[]&nbsp;dv)</code>
<div class="block">Calculate the input array after advection.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#buoyancy-float:A-">buoyancy</a></span>(float[]&nbsp;buoy)</code>
<div class="block">Calculate the buoyancy force as part of the velocity solver.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#curl-int-">curl</a></span>(int&nbsp;idx)</code>
<div class="block">Calculate the curl at position (i, j) in the fluid grid.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#decay-float-">decay</a></span>(float&nbsp;decay)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#densitySolver--">densitySolver</a></span>()</code>
<div class="block">The basic density solving routine.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#diffusion-int-float:A-float:A-float-">diffusion</a></span>(int&nbsp;b,
         float[]&nbsp;c,
         float[]&nbsp;c0,
         float&nbsp;diffusion)</code>
<div class="block">Recalculate the input array with diffusion effects.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getBuoyancyA--">getBuoyancyA</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getBuoyancyB--">getBuoyancyB</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getCurl--">getCurl</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getDensityField--">getDensityField</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getDiffusion--">getDiffusion</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getNumIterations--">getNumIterations</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getTimeStep--">getTimeStep</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getTotalHeight--">getTotalHeight</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getTotalWidth--">getTotalWidth</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getVelocityFieldU--">getVelocityFieldU</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getVelocityFieldV--">getVelocityFieldV</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#getViscosity--">getViscosity</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#linearSolver-int-float:A-float:A-float-float-">linearSolver</a></span>(int&nbsp;b,
            float[]&nbsp;x,
            float[]&nbsp;x0,
            float&nbsp;a,
            float&nbsp;c)</code>
<div class="block">Iterative linear system solver using the Gauss-Seidel relaxation
 technique.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#project-float:A-float:A-float:A-float:A-">project</a></span>(float[]&nbsp;x,
       float[]&nbsp;y,
       float[]&nbsp;p,
       float[]&nbsp;div)</code>
<div class="block">Use project() to make the velocity a mass conserving, incompressible
 field.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#reset--">reset</a></span>()</code>
<div class="block">Reset the datastructures.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#setBoundary-int-float:A-">setBoundary</a></span>(int&nbsp;b,
           float[]&nbsp;x)</code>
<div class="block">specifies simple boundary conditions.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#setBuoyancyA-float-">setBuoyancyA</a></span>(float&nbsp;buoyancyA)</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#setBuoyancyB-float-">setBuoyancyB</a></span>(float&nbsp;buoyancyB)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#setCurl-float:A-">setCurl</a></span>(float[]&nbsp;curl)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#setDiffusion-float-">setDiffusion</a></span>(float&nbsp;diffusion)</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#setNumIterations-int-">setNumIterations</a></span>(int&nbsp;numIterations)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#setTimeStep-float-">setTimeStep</a></span>(float&nbsp;timeStep)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#setViscosity-float-">setViscosity</a></span>(float&nbsp;viscosity)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#swap-float:A-float:A-">swap</a></span>(float[]&nbsp;a,
    float[]&nbsp;b)</code>
<div class="block">util array swapping method</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#velocitySolver--">velocitySolver</a></span>()</code>
<div class="block">The basic velocity solving routine as described by Stam.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../toxi/sim/fluids/FluidSolver2D.html#vorticityConfinement-float:A-float:A-">vorticityConfinement</a></span>(float[]&nbsp;Fvc_x,
                    float[]&nbsp;Fvc_y)</code>
<div class="block">Calculate the vorticity confinement force for each cell in the fluid
 grid.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="numIterations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numIterations</h4>
<pre>protected&nbsp;int numIterations</pre>
</li>
</ul>
<a name="width">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>width</h4>
<pre>protected&nbsp;int width</pre>
</li>
</ul>
<a name="totalWidth">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalWidth</h4>
<pre>protected&nbsp;int totalWidth</pre>
</li>
</ul>
<a name="height">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>height</h4>
<pre>protected&nbsp;int height</pre>
</li>
</ul>
<a name="totalHeight">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalHeight</h4>
<pre>protected&nbsp;int totalHeight</pre>
</li>
</ul>
<a name="size">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>protected&nbsp;int size</pre>
</li>
</ul>
<a name="timeStep">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeStep</h4>
<pre>protected&nbsp;float timeStep</pre>
</li>
</ul>
<a name="viscosity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viscosity</h4>
<pre>protected&nbsp;float viscosity</pre>
</li>
</ul>
<a name="diffusion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>diffusion</h4>
<pre>protected&nbsp;float diffusion</pre>
</li>
</ul>
<a name="buoyancyA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buoyancyA</h4>
<pre>protected&nbsp;float buoyancyA</pre>
</li>
</ul>
<a name="buoyancyB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buoyancyB</h4>
<pre>protected&nbsp;float buoyancyB</pre>
</li>
</ul>
<a name="tmp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tmp</h4>
<pre>protected&nbsp;float[] tmp</pre>
</li>
</ul>
<a name="d">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>d</h4>
<pre>protected&nbsp;float[] d</pre>
</li>
</ul>
<a name="dOld">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dOld</h4>
<pre>protected&nbsp;float[] dOld</pre>
</li>
</ul>
<a name="u">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>u</h4>
<pre>protected&nbsp;float[] u</pre>
</li>
</ul>
<a name="uOld">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uOld</h4>
<pre>protected&nbsp;float[] uOld</pre>
</li>
</ul>
<a name="v">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>v</h4>
<pre>protected&nbsp;float[] v</pre>
</li>
</ul>
<a name="vOld">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vOld</h4>
<pre>protected&nbsp;float[] vOld</pre>
</li>
</ul>
<a name="curl">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>curl</h4>
<pre>protected&nbsp;float[] curl</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FluidSolver2D-int-int-float-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FluidSolver2D</h4>
<pre>public&nbsp;FluidSolver2D(int&nbsp;w,
                     int&nbsp;h,
                     float&nbsp;timeStep)</pre>
<div class="block">Creates a new instance of the given dimension uses the specified time
 step.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>w</code> - matrix width</dd>
<dd><code>h</code> - matrix height</dd>
<dd><code>timeStep</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addSource-float:A-float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSource</h4>
<pre>protected&nbsp;void&nbsp;addSource(float[]&nbsp;buffer,
                         float[]&nbsp;prev)</pre>
</li>
</ul>
<a name="advect-int-float:A-float:A-float:A-float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>advect</h4>
<pre>protected&nbsp;void&nbsp;advect(int&nbsp;b,
                      float[]&nbsp;d,
                      float[]&nbsp;d0,
                      float[]&nbsp;du,
                      float[]&nbsp;dv)</pre>
<div class="block">Calculate the input array after advection. We start with an input array
 from the previous timestep and an and output array. For all grid cells we
 need to calculate for the next timestep, we trace the cell's center
 position backwards through the velocity field. Then we interpolate from
 the grid of the previous timestep and assign this value to the current
 grid cell.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - Flag specifying how to handle boundries.</dd>
<dd><code>d</code> - Array to store the advected field.</dd>
<dd><code>d0</code> - The array to advect.</dd>
<dd><code>du</code> - The x component of the velocity field.</dd>
<dd><code>dv</code> - The y component of the velocity field.</dd>
</dl>
</li>
</ul>
<a name="buoyancy-float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buoyancy</h4>
<pre>protected&nbsp;void&nbsp;buoyancy(float[]&nbsp;buoy)</pre>
<div class="block">Calculate the buoyancy force as part of the velocity solver. Fbuoy =
 -a*d*Y + b*(T-Tamb)*Y where Y = (0,1). The constants a and b are positive
 with appropriate (physically meaningful) units. T is the temperature at
 the current cell, Tamb is the average temperature of the fluid grid. The
 density d provides a mass that counteracts the buoyancy force.
 
 In this simplified implementation, we say that the temperature is
 synonymous with density (since smoke is *hot*) and because there are no
 other heat sources we can just use the density field instead of a new,
 seperate temperature field.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buoy</code> - Array to store buoyancy force for each cell.</dd>
</dl>
</li>
</ul>
<a name="curl-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>curl</h4>
<pre>protected final&nbsp;float&nbsp;curl(int&nbsp;idx)</pre>
<div class="block">Calculate the curl at position (i, j) in the fluid grid. Physically this
 represents the vortex strength at the cell. Computed as follows: width =
 (del x U) where U is the velocity vector at (i, j).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - The x index of the cell.</dd>
<dd><code>j</code> - The y index of the cell.</dd>
</dl>
</li>
</ul>
<a name="decay-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decay</h4>
<pre>public final&nbsp;void&nbsp;decay(float&nbsp;decay)</pre>
</li>
</ul>
<a name="densitySolver--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>densitySolver</h4>
<pre>public&nbsp;void&nbsp;densitySolver()</pre>
<div class="block">The basic density solving routine.</div>
</li>
</ul>
<a name="diffusion-int-float:A-float:A-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>diffusion</h4>
<pre>protected&nbsp;void&nbsp;diffusion(int&nbsp;b,
                         float[]&nbsp;c,
                         float[]&nbsp;c0,
                         float&nbsp;diffusion)</pre>
<div class="block">Recalculate the input array with diffusion effects. Here we consider a
 stable method of diffusion by finding the densities, which when diffusion
 used backward in time yield the same densities we started with. This is
 achieved through use of a linear solver to solve the sparse matrix built
 from this linear system.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - Flag to specify how boundaries should be handled.</dd>
<dd><code>c</code> - The array to store the results of the diffusion computation.</dd>
<dd><code>c0</code> - The input array on which we should compute diffusion.</dd>
<dd><code>diffusion</code> - The factor of diffusion.</dd>
</dl>
</li>
</ul>
<a name="getBuoyancyA--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuoyancyA</h4>
<pre>public&nbsp;float&nbsp;getBuoyancyA()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the buoyancyA</dd>
</dl>
</li>
</ul>
<a name="getBuoyancyB--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuoyancyB</h4>
<pre>public&nbsp;float&nbsp;getBuoyancyB()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the buoyancyB</dd>
</dl>
</li>
</ul>
<a name="getCurl--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurl</h4>
<pre>public&nbsp;float[]&nbsp;getCurl()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the curl</dd>
</dl>
</li>
</ul>
<a name="getDensityField--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDensityField</h4>
<pre>public&nbsp;float[]&nbsp;getDensityField()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the d</dd>
</dl>
</li>
</ul>
<a name="getDiffusion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDiffusion</h4>
<pre>public&nbsp;float&nbsp;getDiffusion()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the diffusion</dd>
</dl>
</li>
</ul>
<a name="getNumIterations--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumIterations</h4>
<pre>public&nbsp;int&nbsp;getNumIterations()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the numIterations</dd>
</dl>
</li>
</ul>
<a name="getTimeStep--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeStep</h4>
<pre>public&nbsp;float&nbsp;getTimeStep()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the timeStep</dd>
</dl>
</li>
</ul>
<a name="getTotalHeight--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalHeight</h4>
<pre>public&nbsp;int&nbsp;getTotalHeight()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the totalHeight</dd>
</dl>
</li>
</ul>
<a name="getTotalWidth--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalWidth</h4>
<pre>public&nbsp;int&nbsp;getTotalWidth()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the totalWidth</dd>
</dl>
</li>
</ul>
<a name="getVelocityFieldU--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVelocityFieldU</h4>
<pre>public&nbsp;float[]&nbsp;getVelocityFieldU()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the u</dd>
</dl>
</li>
</ul>
<a name="getVelocityFieldV--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVelocityFieldV</h4>
<pre>public&nbsp;float[]&nbsp;getVelocityFieldV()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the v</dd>
</dl>
</li>
</ul>
<a name="getViscosity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getViscosity</h4>
<pre>public&nbsp;float&nbsp;getViscosity()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the viscosity</dd>
</dl>
</li>
</ul>
<a name="linearSolver-int-float:A-float:A-float-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>linearSolver</h4>
<pre>protected&nbsp;void&nbsp;linearSolver(int&nbsp;b,
                            float[]&nbsp;x,
                            float[]&nbsp;x0,
                            float&nbsp;a,
                            float&nbsp;c)</pre>
<div class="block">Iterative linear system solver using the Gauss-Seidel relaxation
 technique. Room for much improvement here...</div>
</li>
</ul>
<a name="project-float:A-float:A-float:A-float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>project</h4>
<pre>protected&nbsp;void&nbsp;project(float[]&nbsp;x,
                       float[]&nbsp;y,
                       float[]&nbsp;p,
                       float[]&nbsp;div)</pre>
<div class="block">Use project() to make the velocity a mass conserving, incompressible
 field. Achieved through a Hodge decomposition. First we calculate the
 divergence field of our velocity using the mean finite diffusionernce
 approach, and apply the linear solver to compute the Poisson equation and
 obtain a "height" field. Now we subtract the gradient of this field to
 obtain our mass conserving velocity field.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - The array in which the x component of our final velocity field
            is stored.</dd>
<dd><code>y</code> - The array in which the y component of our final velocity field
            is stored.</dd>
<dd><code>p</code> - A temporary array we can use in the computation.</dd>
<dd><code>div</code> - Another temporary array we use to hold the velocity divergence
            field.</dd>
</dl>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Reset the datastructures. We use 1d arrays for speed.</div>
</li>
</ul>
<a name="setBoundary-int-float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBoundary</h4>
<pre>protected&nbsp;void&nbsp;setBoundary(int&nbsp;b,
                           float[]&nbsp;x)</pre>
<div class="block">specifies simple boundary conditions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - </dd>
<dd><code>x</code> - </dd>
</dl>
</li>
</ul>
<a name="setBuoyancyA-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBuoyancyA</h4>
<pre>public&nbsp;void&nbsp;setBuoyancyA(float&nbsp;buoyancyA)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buoyancyA</code> - the buoyancyA to set</dd>
</dl>
</li>
</ul>
<a name="setBuoyancyB-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBuoyancyB</h4>
<pre>public&nbsp;void&nbsp;setBuoyancyB(float&nbsp;buoyancyB)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buoyancyB</code> - the buoyancyB to set</dd>
</dl>
</li>
</ul>
<a name="setCurl-float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurl</h4>
<pre>public&nbsp;void&nbsp;setCurl(float[]&nbsp;curl)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>curl</code> - the curl to set</dd>
</dl>
</li>
</ul>
<a name="setDiffusion-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDiffusion</h4>
<pre>public&nbsp;void&nbsp;setDiffusion(float&nbsp;diffusion)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>diffusion</code> - the diffusion to set</dd>
</dl>
</li>
</ul>
<a name="setNumIterations-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNumIterations</h4>
<pre>public&nbsp;void&nbsp;setNumIterations(int&nbsp;numIterations)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>numIterations</code> - the numIterations to set</dd>
</dl>
</li>
</ul>
<a name="setTimeStep-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeStep</h4>
<pre>public&nbsp;void&nbsp;setTimeStep(float&nbsp;timeStep)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeStep</code> - the timeStep to set</dd>
</dl>
</li>
</ul>
<a name="setViscosity-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setViscosity</h4>
<pre>public&nbsp;void&nbsp;setViscosity(float&nbsp;viscosity)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>viscosity</code> - the viscosity to set</dd>
</dl>
</li>
</ul>
<a name="swap-float:A-float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>swap</h4>
<pre>protected final&nbsp;void&nbsp;swap(float[]&nbsp;a,
                          float[]&nbsp;b)</pre>
<div class="block">util array swapping method</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>a</code> - first array</dd>
<dd><code>b</code> - second array</dd>
</dl>
</li>
</ul>
<a name="velocitySolver--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>velocitySolver</h4>
<pre>public&nbsp;void&nbsp;velocitySolver()</pre>
<div class="block">The basic velocity solving routine as described by Stam.</div>
</li>
</ul>
<a name="vorticityConfinement-float:A-float:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>vorticityConfinement</h4>
<pre>public&nbsp;void&nbsp;vorticityConfinement(float[]&nbsp;Fvc_x,
                                 float[]&nbsp;Fvc_y)</pre>
<div class="block">Calculate the vorticity confinement force for each cell in the fluid
 grid. At a point (i,j), Fvc = N x width where width is the curl at (i,j)
 and N = del |width| / |del |width||. N is the vector pointing to the
 vortex center, hence we add force perpendicular to N.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>Fvc_x</code> - The array to store the x component of the vorticity
            confinement force for each cell.</dd>
<dd><code>Fvc_y</code> - The array to store the y component of the vorticity
            confinement force for each cell.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../toxi/sim/fluids/FluidSolver3D.html" title="class in toxi.sim.fluids"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?toxi/sim/fluids/FluidSolver2D.html" target="_top">Frames</a></li>
<li><a href="FluidSolver2D.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
